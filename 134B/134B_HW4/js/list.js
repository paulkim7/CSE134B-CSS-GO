function getParseHabits(e){var t=Parse.object.extend("UserAccount"),i=new Parse.query(t);return new Promise(function(t,n){i.equalTo("id",e).find().then(function(e){(void 0===e||1!==e.size)&&n(),t(e[0].get(habits))})})}function confirmDelete(e){var t=confirm("Are you sure you want to delete this habit?");t&&(deleteHabit(e),removeParseHabit(e.id))}Parse.initialize("d2claNl95q01NDPLvJ5c6wss7ePAqKGn9l048Zqb","N344LtQrb8LdEIKU1M4dlsMSUZiXf1fEtSY16Of7"),checkForLogin(),window.onload=function(){var e=Parse.User.current(),t=document.getElementById("username");t.innerHTML=" ["+e.get("username")+"]";var i=e.relation("habits"),n=i.query(),d=document.getElementById("habit-list"),r=new Date,s=r.getDay();n.equalTo("Habit"),i.query().find().then(function(e){for(0===e.length&&(document.getElementById("noHabitContainer").className="centered"),i=0;i<e.length;i++){var t=e[i],i=t.id,n=t.get("title"),r=t.get("iconLoc"),a=(t.get("iconNum"),t.get("day")),o=(t.get("freq"),t.get("progVal")),l=t.get("dailyFreq"),m=t.get("streak"),u=t.get("record");if(!(document.getElementById("habit-"+i)||document.getElementById("nameLi-"+i)||document.getElementById("nameDiv-"+i)||document.getElementById("totalSpan-"+i)||document.getElementById("messSvg-"+i)||document.getElementById("messLine1-"+i)||document.getElementById("messLine2-"+i)||document.getElementById("today-"+i)||document.getElementById("habitOp-"+i)||document.getElementById("done-"+i)||document.getElementById("edit-"+i)||document.getElementById("del-"+i)||document.getElementById("doneImg-"+i)||document.getElementById("editImg-"+i)||document.getElementById("delImg-"+i)||document.getElementById("iconLi-"+i)||document.getElementById("iconImg-"+i)||document.getElementById("info-"+i))){var c=document.createElement("li"),b=document.createElement("li"),g=document.createElement("div"),p=document.createElement("li"),A=document.createElement("img"),h=document.createElement("ul"),y=document.createElement("div"),E=document.createElement("span"),I=document.createElement("svg"),v=document.createElement("line"),C=document.createElement("line"),f=document.createElement("span"),B=document.createElement("div"),L=document.createElement("button"),H=document.createElement("button"),k=document.createElement("button"),w=document.createElement("img"),D=document.createElement("img"),q=document.createElement("img"),M=document.createElement("br"),P=document.createElement("progress");c.setAttribute("id",i),b.setAttribute("id","nameLi-"+i),g.setAttribute("id","nameDiv-"+i),E.setAttribute("id","totalSpan-"+i),I.setAttribute("id","messSvg-"+i),v.setAttribute("id","messLine1-"+i),C.setAttribute("id","messLine2-"+i),f.setAttribute("id","today-"+i),B.setAttribute("id","habitOp-"+i),L.setAttribute("id","done-"+i),H.setAttribute("id","edit-"+i),k.setAttribute("id","del-"+i),w.setAttribute("id","doneImg-"+i),D.setAttribute("id","editImg-"+i),q.setAttribute("id","delImg-"+i),p.setAttribute("id","iconLi-"+i),A.setAttribute("id","iconImg-"+i),h.setAttribute("id","info-"+i),g.setAttribute("class","habit-name"),h.setAttribute("class","habit-info"),A.setAttribute("class","habit-icon"),A.setAttribute("src",r),A.setAttribute("alt","habit icon"),P.setAttribute("class","progressBar"),g.innerHTML=n,b.appendChild(g),p.appendChild(A),h.appendChild(b),h.appendChild(p),c.appendChild(h),v.setAttribute("x1","0"),v.setAttribute("y1","0"),v.setAttribute("x2","60"),v.setAttribute("y2","0"),v.setAttribute("style","stroke:rgba(65, 131, 215, 0.8);stroke-width:25"),C.setAttribute("x1","60"),C.setAttribute("y1","0"),C.setAttribute("x2","150"),C.setAttribute("y2","0"),C.setAttribute("style","stroke:rgba(171,171,171,0.6);stroke-width:25"),I.setAttribute("height","25"),I.setAttribute("width","150"),E.setAttribute("class","message-total"),I.appendChild(v),I.appendChild(C),P.value=o,0===l?(P.max=l,f.innerHTML="Completed <strong> "+o+"/"+l+"</strong> for today!"):(P.max=l,f.innerHTML="Completed <strong> "+o+"/"+l+"</strong> for today!"),E.innerHTML="<strong> "+m+"</strong> days in a row! Best Record: <strong> "+u+"</strong><br><br>",f.setAttribute("class","message-today"),y.setAttribute("class","message"),E.appendChild(P),y.appendChild(E),y.appendChild(M),y.appendChild(f),w.setAttribute("src","../img/done.svg"),w.setAttribute("alt","done"),D.setAttribute("src","../img/edit.svg"),D.setAttribute("alt","Edit"),q.setAttribute("src","../img/delete.svg"),q.setAttribute("alt","Del"),L.setAttribute("class","op op-done"),H.setAttribute("class","op op-edit"),k.setAttribute("class","op op-del"),L.setAttribute("type","button"),H.setAttribute("type","button"),k.setAttribute("type","button"),L.setAttribute("onclick","updateMsgProgBar(this);"),H.setAttribute("onclick","storeHabitID('"+i+"'); location.href='edit.html'"),k.setAttribute("id",i),k.setAttribute("onclick","confirmDelete(this);"),k.appendChild(q),H.appendChild(D),L.appendChild(w),B.setAttribute("class","habit-op"),B.appendChild(L),B.appendChild(H),B.appendChild(k),c.appendChild(h),c.appendChild(y),c.appendChild(B),d.appendChild(c);var T=JSON.parse(a);if(T[s]===!1)P.style.visibility="hidden",f.innerHTML="Habit is not available today.";else{var x="3dJ";x!==t.get("prevCheckedDay")&&(0===o&&(m=0),P.value=0,o=0,t.set("progVal",o),t.save()),f.innerHTML="Completed <strong> "+o+"/"+l+"</strong> for today!"}t.set("prevCheckedDay",x),t.save()}}})};